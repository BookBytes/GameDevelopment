<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
<link rel="stylesheet" href="../stylesheets/default.css" type="text/css" media="screen" />
<title>COMP 23: Introduction to Game Development - PyGame</title>
</head>

<body>
<div id="main">

<div id = "header">
<h1>Introduction to Game Development</h1>
<h2>PyGame</h2>
</div>

<h3>The Game Loop</h3>
<ul>
<li>The key to a game's operation</li>
<li>Responsible for keeping track of the current frame and for requesting periodic screen updates</li>
<li>The pseudocode / idea:
<pre>
while (game is running) {
  while (isPaused &amp;&amp; isRunning) {
    sleep(someInterval);
  }
  updateState();
  processInputs();
  updateAI();
  updatePhysicsAndCollisions();
  updateAnimations();
  playSounds();
  updateVideo();
  drawGraphics();
  ...
  ...
  ...
}
</pre>
</li>
<li>Inputs or none, the game loop must run</li>
</ul>

<h3>Pygame</h3>
<ul>
<li>Set of Python module</li>
<li>Circa 2000</li>
<li>Highly portable</li>
<li>Includes support for graphics, OpenGL, UI, mouse, keyboard, joystick, fonts, time, sound, etc.</li>
<li>Built on top of the Simple DirectMedia Layer (SDL), a cross-platform open source multimedia library</li>
<li>Fairly low level for writing games</li>
<li>Official reference: <a href="http://pygame.org/docs/ref/pygame.html" target="_blank">http://pygame.org/docs/ref/pygame.html</a></li>
</ul>

<h3>Initializing Pygame</h3>
<ul>
<li><code>import pygame, sys, os</code></li>
<li><code>from pygame.locals import *</code></li>
<li><code>pygame.init()</code></li>
</ul>

<h3>Setting Up the Display</h3>
<ul>
<li><code>window = pygame.display.set_mode((SOME_SCREEN_WIDTH, SOME_SCREEN_HEIGHT))</code></li>
<li><code>pygame.display.set_caption('SOME WINDOW TITLE')</code></li>
<li><code>screen = pygame.display.get_surface()</code></li>
<li>Methods and reference: <a href="http://www.pygame.org/docs/ref/display.html" target="_blank">http://www.pygame.org/docs/ref/display.html</a></li>
</ul>

<h3>Pygame Surface</h3>
<ul>
<li>The drawing area</li>
<li>Area to draw images</li>
<li>Equivalent to a canvas in Java</li>
<li>Methods and reference: <a href="http://pygame.org/docs/ref/surface.html" target="_blank">http://pygame.org/docs/ref/surface.html</a></li>
</ul>

<h3>Screen Modes</h3>
<ul>
<li><code>pygame.FULLSCREEN</code> - full screen</li>
<li><code>pygame.HWSURFACE</code> - Hardware accelerated, only in <code>FULLSCREEN</code></li>
<li><code>pygame.OPENGL</code> - Enable OpenGL</li>
<li><code>pygame.RESIZABLE</code> - You can resize the display window</li>
<li><code>pygame.NOFRAME</code> - Display window has no border or controls</li>
<li><code>pygame.DOUBLEBUF</code> - double buffering support; recommended for <code>HWSURFACE</code> or <code>OPENGL</code></li>
</ul>

<h3>Event Handling</h3>
<ul>
<li>Reacting to user activity (particularly the mouse and keyboard)</li>
<li><code>pygame.event.get()</code> - Get events from the queue</li>
<li>Event types:
<ul>
<li><code>QUIT</code></li>
<li><code>ACTIVEEVENT</code></li>
<li><code>KEYUP</code></li>
<li><code>KEYDOWN</code></li>
<li><code>MOUSEBUTTONUP</code></li>
<li><code>MOUSEBUTTONDOWN</code></li>
<li><code>MOUSEMOTION</code></li>
<li><code>JOYAXISMOTION</code></li>
<li><code>JOYHATMOTION</code></li>
<li><code>JOYBALLMOTION</code></li>
<li><code>JOYBUTTONUP</code></li>
<li><code>JOYBUTTONDOWN</code></li>
<li><code>VIDEORESIZE</code></li>
<li><code>VIDEOEXPOSE</code></li>
<li><code>USEREVENT</code></li>
</ul>
</li>
<li>Handling keyboard events
<ul>
<li>
<pre>
	if event.type == KEYDOWN: # or use KEYUP
		# Get the key pressed via event.key
		print event.key
</pre>
</li>
</ul>
</li>
<li>Handling mouse events
<ul>
<li>
<pre>
	if event.type == MOUSEBUTTONDOWN: # or use MOUSEBUTTONUP or MOUSEMOTION
		# Get the location of the mouse pointer via pygame.mouse.get_loc()
		print pygame.mouse.get_loc()
</pre>
</li>
</ul>
</li>
<li>List of keycodes and key methods: <a href="http://www.pygame.org/docs/ref/key.html" target="_blank">http://www.pygame.org/docs/ref/key.html</a></li>
<li>List of mouse methods: <a href="http://www.pygame.org/docs/ref/mouse.html" target="_blank">http://www.pygame.org/docs/ref/mouse.html</a></li>
</ul>

<h3>Implementing the Game Loop</h3>
<ul>
<li>As simple as a <code>while</code> loop that runs forever</li>
</ul>

<h3>Image Loading</h3>
<ul>
<li><code>pygame.image.load()</code> - Load image</li>
<li><code>pygame.image.load().convert()</code> or <code>pygame.image.load().convert_alpha()</code>- A better option to load image; convert image to best pixel and color format</li>
<li><code>screen.blit()</code> - Draw image (and provide x-y location to draw the image)</li>
<li><code>pygame.display.flip()</code> - Update the entire surface</li>
<li>Example:
<pre>
img = pygame.image.load("krusty.jpg")
screen.blit(img, (10, 10))
pygame.display.flip()
</pre>
</li>
<li>In the above example, <code>.py</code> file and <code>krusty.jpg</code> must be in the same folder.  You can also specify path to image.</li>
<li>In addition, the background is black color</li>
</ul>

</div>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-582953-7");
    pageTracker._trackPageview();
  }
  catch(err) {}
</script>

</body>
</html>
